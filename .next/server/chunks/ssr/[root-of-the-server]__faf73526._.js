module.exports=[37936,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"registerServerReference",{enumerable:!0,get:function(){return d.registerServerReference}});let d=a.r(11857)},63021,(a,b,c)=>{b.exports=a.x("@prisma/client-2c3a283f134fdcb6",()=>require("@prisma/client-2c3a283f134fdcb6"))},13095,(a,b,c)=>{"use strict";function d(a){for(let b=0;b<a.length;b++){let c=a[b];if("function"!=typeof c)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof c}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ensureServerEntryExports",{enumerable:!0,get:function(){return d}})},57526,a=>{"use strict";var b=a.i(37936),c=a.i(63021);let d=globalThis.prisma||new c.PrismaClient({log:["query"]});async function e(){return(await d.member.findMany()).map(a=>({...a,gender:a.gender}))}async function f(a){let{id:b,...c}=a;c.isSelf&&await d.member.updateMany({where:{isSelf:!0,id:{not:b}},data:{isSelf:!1}}),await d.member.upsert({where:{id:b},update:{name:c.name,nameZh:c.nameZh,role:c.role,birthDate:c.birthDate,deathDate:c.deathDate,location:c.location,avatar:c.avatar,bio:c.bio,gender:c.gender,isSelf:c.isSelf,x:c.x,y:c.y},create:{id:b,name:c.name,nameZh:c.nameZh,role:c.role,birthDate:c.birthDate,deathDate:c.deathDate,location:c.location,avatar:c.avatar,bio:c.bio,gender:c.gender,isSelf:c.isSelf??!1,x:c.x,y:c.y}})}async function g(a){await d.$transaction([d.connection.deleteMany({where:{OR:[{sourceId:a},{targetId:a}]}}),d.member.delete({where:{id:a}})])}async function h(a){return g(a)}async function i(){return(await d.connection.findMany()).map(a=>({...a,sourceHandle:a.sourceHandle,targetHandle:a.targetHandle,lineStyle:a.lineStyle}))}async function j(a){let{id:b,...c}=a;await d.connection.upsert({where:{id:b},update:{sourceId:c.sourceId,targetId:c.targetId,sourceHandle:c.sourceHandle,targetHandle:c.targetHandle,label:c.label,labelZh:c.labelZh,color:c.color,lineStyle:c.lineStyle},create:{id:b,sourceId:c.sourceId,targetId:c.targetId,sourceHandle:c.sourceHandle,targetHandle:c.targetHandle,label:c.label,labelZh:c.labelZh,color:c.color,lineStyle:c.lineStyle}})}async function k(a){await d.connection.delete({where:{id:a}})}(0,a.i(13095).ensureServerEntryExports)([e,f,g,h,i,j,k]),(0,b.registerServerReference)(e,"00426a7e4cadf7afffdf1c9766764168d718302b92",null),(0,b.registerServerReference)(f,"40bdfbea698c59dd2879421a45a56f1fa4fe5109a6",null),(0,b.registerServerReference)(g,"4074863e5d11f12596259c64117bb58347e8a88a02",null),(0,b.registerServerReference)(h,"40d44dd004a48387b0ff08763105c4f9d6de91606f",null),(0,b.registerServerReference)(i,"003761513aa52799012788a487429b5d1b4d7e0a29",null),(0,b.registerServerReference)(j,"40ac8f13597e27c417bef8e29ed00511d1c0e50956",null),(0,b.registerServerReference)(k,"40c203df7974a181bbbf52d3fc46c31cd6001edfeb",null),a.s([],71570),a.i(71570),a.s(["003761513aa52799012788a487429b5d1b4d7e0a29",()=>i,"00426a7e4cadf7afffdf1c9766764168d718302b92",()=>e,"4074863e5d11f12596259c64117bb58347e8a88a02",()=>g,"40ac8f13597e27c417bef8e29ed00511d1c0e50956",()=>j,"40bdfbea698c59dd2879421a45a56f1fa4fe5109a6",()=>f,"40c203df7974a181bbbf52d3fc46c31cd6001edfeb",()=>k],57526)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__faf73526._.js.map